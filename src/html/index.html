<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIS</title>
    <link rel="stylesheet" href="./assets/font/Pretendard.css">
    <link rel="stylesheet" href="./assets/css/index.min.css">
</head>
<body>

<div id="labs" class="labs">
    <header class="labs-header">
        <div class="labs-container">
            <h1 class="logos"><a href="/"></a></h1>
            <div class="gnb-wraps">
                <ul>
                    <li><a href=""><span></span></a></li>
                    <li><a href=""><span></span></a></li>
                    <li><a href=""><span></span></a></li>
                    <li><a href=""><span></span></a></li>
                    <li><a href=""><span></span></a></li>
                    <li><a href=""><span></span></a></li>
                </ul>
            </div>
        </div>
    </header>


    <div class="labs-content">
        <section class="labs-section">
            
        </section>
        <!-- e: section end line -->
        <section class="labs-section">
            
        </section>
        <!-- e: section end line -->
        <section class="labs-section">
            
        </section>
        <!-- e: section end line -->
        <section class="labs-section">
            
        </section>
        <!-- e: section end line -->
        <section class="labs-section">
            
        </section>
        <!-- e: section end line -->
        <section class="labs-section labs-contact">
            <form action="">
                <input type="text" id="userName" name="">
                <input type="text" id="userMail" name="">
                <input type="text" id="userWebsite" name="">
                <input type="text" id="userTelegram" name="">
                <input type="text" id="userMessage" name="">
            </form>

            <button type="submit" id="submitBtn">Submit</button>

            <script>
                document.getElementById('submitBtn').addEventListener('click', function() {
                    const userName = document.getElementById('userName').value;
                    const userMail = document.getElementById('userMail').value;
                    const userWebsite = document.getElementById('userWebsite').value;
                    const userTelegram = document.getElementById('userTelegram').value;
                    const userMessage = document.getElementById('userMessage').value;

                    if (!userName) {
                        alert('사용자 이름을 입력해주세요.');
                        return;
                    }
                    if (!userMail || !validateEmail(userMail)) {
                        alert('유효한 이메일 주소를 입력해주세요.');
                        return;
                    }
                    if (!userWebsite) {
                        alert('웹사이트 주소를 입력해주세요.');
                        return;
                    }
                    if (!userTelegram) {
                        alert('텔레그램 아이디를 입력해주세요.');
                        return;
                    }
                    if (!userMessage) {
                        alert('메시지를 입력해주세요.');
                        return;
                    }

                    // AJAX 요청
                    const xhr = new XMLHttpRequest();
                    xhr.open('POST', 'save_data.php', true);
                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                    xhr.onreadystatechange = function() {
                        if (xhr.readyState == 4 && xhr.status == 200) {
                            alert('데이터가 성공적으로 전송되었습니다!');
                        }
                    };
                    xhr.send(`userName=${userName}&userMail=${userMail}&userWebsite=${userWebsite}&userTelegram=${userTelegram}&userMessage=${userMessage}`);
                });

                function validateEmail(email) {
                const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(email);
                }

            </script>
            
        </section>
        <!-- e: section end line -->


    </div>
</div>

<script src="assets/js/all.min.js"></script>
</body>
</html>